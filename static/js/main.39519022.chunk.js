(this.webpackJsonptelstra=this.webpackJsonptelstra||[]).push([[0],{13:function(e,t,a){e.exports={Upload:"Upload_Upload__3oMjD",file:"Upload_file__3fC6B",button:"Upload_button__1178p",success:"Upload_success__1hV8F",error:"Upload_error__3KY9s"}},25:function(e,t,a){e.exports={Header:"Header_Header__1S-cr",text:"Header_text__2rBL6",Logo:"Header_Logo__3vzSp",DesktopOnly:"Header_DesktopOnly__2Exuu"}},30:function(e,t,a){e.exports={Home:"HomeIcon_Home__38kVr"}},34:function(e,t,a){e.exports={Carticon:"UploadIcon_Carticon__3xXS4","shopping-icon":"UploadIcon_shopping-icon__19MPI",itemcount:"UploadIcon_itemcount__ujvmN"}},39:function(e,t,a){e.exports={Footer:"Footer_Footer__1ItNA"}},40:function(e,t,a){e.exports=a(58)},45:function(e,t,a){},55:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(16),r=a.n(o),c=a(7),s=(a(45),a(9)),i=a(18),u=a(19),d=a(20),m=a(23),p=a(24),f=a(13),h=a.n(f),_=a(12),b=a(29),E=a.n(b),y=new FileReader,v=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={disabled:!0,files:null,uploaded:!1},e.myRef=l.a.createRef(),e.onClickHandler=function(t){console.log("Upload ",e.state.files),e.props.uploadDocument(e.state.fileName,e.state.data),e.setState({disabled:!0,uploaded:!0}),e.myRef.current.value=null},e.onChangeHandler=function(t){e.setState({error:null,uploaded:!1});for(var a=t.target.files,n=[],l=["text/plain"],o=function(e){l.every((function(t){return a[e].type!==t}))&&(n[e]=a[e].name+" is not a supported format\n")},r=0;r<a.length;r++)o(r);if(!n.length&&a.length){e.setState({disabled:!1,files:a});var c=Object(d.a)(e);y.onload=function(){var e=y.result;e=(e=e.split(new RegExp([" ","\\+","\\(","\\)","\\*","/",":","\\?","\n"].join("|")))).filter((function(e){return""!=e})),c.setState({fileName:a[0].name,data:e})},y.onerror=function(e){console.log("error"),y.abort()},y.readAsText(a[0])}else e.setState({disabled:!0,error:n})},e}return Object(u.a)(a,[{key:"render",value:function(){return console.log(this.state),l.a.createElement("div",{className:h.a.Upload},l.a.createElement("input",{className:h.a.file,type:"file",onChange:this.onChangeHandler,ref:this.myRef}),l.a.createElement("button",{type:"button",onClick:this.onClickHandler,className:"".concat(h.a.button," btn btn-primary"),disabled:this.state.disabled},"Upload"),this.state.uploaded&&l.a.createElement(E.a,{delay:100},l.a.createElement("div",{className:h.a.success},"File uploaded successfully ")),this.state.error&&l.a.createElement(E.a,{delay:100},l.a.createElement("div",{className:h.a.error}," ",this.state.error,l.a.createElement("br",null),l.a.createElement("strong",null,"Please upload a text file "))))}}]),a}(n.Component),g=Object(_.b)(null,{uploadDocument:function(e,t){return{type:"UPLOAD_DOCUMENT",filename:e,data:t}}})(v),O=a(25),j=a.n(O),N=a(30),k=a.n(N),x=a(21),C=a(22),H=function(e){return l.a.createElement("div",{className:k.a.Home},l.a.createElement(c.b,{to:"/",className:k.a.Home},l.a.createElement(x.a,{icon:C.b})))},U=a(34),w=a.n(U),L=function(e){return l.a.createElement("div",{className:w.a.Carticon},l.a.createElement(c.b,{to:"/upload",className:w.a.Carticon},l.a.createElement(x.a,{icon:C.a})))},S=function(e){return l.a.createElement("header",{className:j.a.Header},l.a.createElement("div",{className:j.a.Logo},l.a.createElement(H,null)),l.a.createElement("div",{className:j.a.text},"Mini Search Engine"),l.a.createElement(L,null))},F=a(11),I=a(8),D=a.n(I),R=!0,B=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={searchTerm:"",display:!1,disabled:!0,results:null},e.handleChange=function(t){t.target.value.length>=3&&(R=!1),e.setState({searchTerm:t.target.value,disabled:R})},e.onClickHandler=function(t){var a=e.props.data,n=Object.keys(a),l=[];e.state.searchTerm.trim().split(" ").map((function(e){l=l.concat(n.filter((function(t){return t.includes(e)})))}));var o=[];(n=l).map((function(e){o.push(Object(F.a)({},e,a[e]))})),console.log("keys ",n),console.log("keys ",o),e.setState({disabled:!0,display:!0,results:Object.keys(o)?o:null})},e}return Object(u.a)(a,[{key:"render",value:function(){var e,t,a=l.a.createElement("div",{className:D.a.Noresult},"No Results Found!!"),n=null;return console.log("Results ",this.state.results),this.state.results&&(n=this.state.results.map((function(a,n){return console.log("result ",a,Object.keys(a)[0]),e=Object.keys(a)[0],t=Object.keys(a[e].filename).join(" ,"),console.log("Index: ",a[e].filename[t]),l.a.createElement("div",{className:D.a.result,key:n},l.a.createElement("div",null,l.a.createElement("strong",null,"Found:     ")," ",e),l.a.createElement("div",null,l.a.createElement("strong",null,"Filename:  "),t),l.a.createElement("div",null,l.a.createElement("strong",null,"Frequency: "),a[e].count),l.a.createElement("div",null,l.a.createElement("strong",null,"Index:     "),Object.keys(a[e].filename).map((function(t){return"".concat(t," [").concat(a[e].filename[t].join(", "),"] ")}))))}))),console.log("Data ",this.props.data,typeof this.props.data),l.a.createElement("div",{className:D.a.Layout},l.a.createElement("div",null,Object.keys(this.props.data).length?"":l.a.createElement("div",{className:D.a.error},"Please ",l.a.createElement("strong",null,l.a.createElement(c.b,{to:"/upload"},"upload")," "),"files first to search"),l.a.createElement("input",{className:D.a.Input,placeholder:"Enter Search Term",type:"text",onChange:this.handleChange,value:this.state.searchTerm})),l.a.createElement("div",{className:D.a.Button},l.a.createElement("button",{type:"button",onClick:this.onClickHandler,className:"".concat(D.a.button," btn btn-primary"),disabled:this.state.disabled},"Search")),this.state.display&&l.a.createElement("hr",{className:D.a.Ruler}),this.state.display&&l.a.createElement("div",null,!this.state.results&&a),n)}}]),a}(n.Component),T=Object(_.b)((function(e){return{data:e.document.data}}))(B),A=a(39),P=a.n(A),M=function(e){return l.a.createElement("footer",{className:P.a.Footer})};a(55);var V=function(){return l.a.createElement("div",null,l.a.createElement(S,null),l.a.createElement(s.c,null,l.a.createElement(s.a,{path:"/upload",component:g}),l.a.createElement(s.a,{path:"/",exact:!0,component:T})),l.a.createElement(M,null))},W=a(10),z=a(35),J=a(26),Y={data:{}},q=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"UPLOAD_DOCUMENT":return e=Object(J.a)({},a.data),n.data.map((function(a,l){e[a]?((t=Object(J.a)({},e[a])).count+=1,t.index=[].concat(Object(z.a)(t.index),[l]),t.filename[n.filename]?t.filename[n.filename]=[].concat(Object(z.a)(t.filename[n.filename]),[l]):t.filename[n.filename]=[l],e[a]=t):e[a.trim()]={filename:Object(F.a)({},n.filename,[l]),count:1,index:[l]}})),console.log("newdata ",e),Object(J.a)({},a,{data:e});default:return a}},K=Object(W.c)({document:q}),X=Object(W.d)(K,W.a.apply(void 0,[]));a(56),a(57),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(_.a,{store:X},l.a.createElement(c.a,{basename:"/textsearch"},l.a.createElement(V,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports={Layout:"Layout_Layout__3SFDO",result:"Layout_result__3hYit",Ruler:"Layout_Ruler__pWcur",Noresult:"Layout_Noresult__13Vlz",Input:"Layout_Input__SVBPw",Button:"Layout_Button__21lov",error:"Layout_error__2w6i5"}}},[[40,1,2]]]);
//# sourceMappingURL=main.39519022.chunk.js.map