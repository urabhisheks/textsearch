(this.webpackJsonptelstra=this.webpackJsonptelstra||[]).push([[0],{24:function(e,t,a){e.exports={Upload:"Upload_Upload__3oMjD",file:"Upload_file__3fC6B",button:"Upload_button__1178p"}},25:function(e,t,a){e.exports={Header:"Header_Header__1S-cr",text:"Header_text__2rBL6",Logo:"Header_Logo__3vzSp",DesktopOnly:"Header_DesktopOnly__2Exuu"}},29:function(e,t,a){e.exports={Home:"HomeIcon_Home__38kVr"}},33:function(e,t,a){e.exports={Carticon:"UploadIcon_Carticon__3xXS4","shopping-icon":"UploadIcon_shopping-icon__19MPI",itemcount:"UploadIcon_itemcount__ujvmN"}},38:function(e,t,a){e.exports={Footer:"Footer_Footer__1ItNA"}},39:function(e,t,a){e.exports=a(56)},44:function(e,t,a){},53:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(14),r=a.n(o),c=a(9),s=(a(44),a(7)),i=a(16),u=a(17),m=a(18),d=a(22),p=a(23),f=a(24),h=a.n(f),_=a(11),b=new FileReader,E=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={disabled:!0,files:null},e.onClickHandler=function(t){console.log("Upload ",e.state.files),e.props.uploadDocument(e.state.fileName,e.state.data),e.setState({disabled:!0})},e.onChangeHandler=function(t){for(var a=t.target.files,n=[],l=["text/plain"],o=function(e){l.every((function(t){return a[e].type!==t}))&&(n[e]=a[e].type+" is not a supported format\n")},r=0;r<a.length;r++)o(r);if(!n.length&&a.length){e.setState({disabled:!1,files:a});var c=Object(m.a)(e);b.onload=function(){var e=b.result;e=(e=e.split(new RegExp([" ","\\+","\\(","\\)","\\*","/",":","\\?","\n"].join("|")))).filter((function(e){return""!=e})),c.setState({fileName:a[0].name,data:e})},b.onerror=function(e){console.log("error"),b.abort()},b.readAsText(a[0])}else e.setState({disabled:!0,error:n})},e}return Object(u.a)(a,[{key:"render",value:function(){return console.log(this.state),l.a.createElement("div",{className:h.a.Upload},l.a.createElement("input",{className:h.a.file,type:"file",onChange:this.onChangeHandler}),l.a.createElement("button",{type:"button",onClick:this.onClickHandler,className:"".concat(h.a.button," btn btn-primary"),disabled:this.state.disabled},"Upload"))}}]),a}(n.Component),v=Object(_.b)(null,{uploadDocument:function(e,t){return{type:"UPLOAD_DOCUMENT",filename:e,data:t}}})(E),g=a(25),y=a.n(g),O=a(29),N=a.n(O),j=a(19),x=a(20),k=function(e){return l.a.createElement("div",{className:N.a.Home},l.a.createElement(c.b,{to:"/",className:N.a.Home},l.a.createElement(j.a,{icon:x.b})))},C=a(33),H=a.n(C),w=function(e){return l.a.createElement("div",{className:H.a.Carticon},l.a.createElement(c.b,{to:"/upload",className:H.a.Carticon},l.a.createElement(j.a,{icon:x.a})))},L=function(e){return l.a.createElement("header",{className:y.a.Header},l.a.createElement("div",{className:y.a.Logo},l.a.createElement(k,null)),l.a.createElement("div",{className:y.a.text},"Mini Search Engine"),l.a.createElement(w,null))},U=a(8),S=a.n(U),I=!0,D=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={searchTerm:"",display:!1,disabled:!0,results:null},e.handleChange=function(t){t.target.value.length>=3&&(I=!1),e.setState({searchTerm:t.target.value,disabled:I})},e.onClickHandler=function(t){var a=e.props.data,n=Object.keys(a),l=[];e.state.searchTerm.split(" ").map((function(e){l=l.concat(n.filter((function(t){return t.includes(e)})))}));var o=[];(n=l).map((function(e){o.push(a[e])})),console.log("keys ",n),console.log("keys ",o),e.setState({disabled:!0,display:!0,results:Object.keys(o)?o:null})},e}return Object(u.a)(a,[{key:"render",value:function(){var e,t,a=this,n=l.a.createElement("div",{className:S.a.Noresult},"No Results Found!!"),o=null;return console.log("Results ",this.state.results),this.state.results&&(o=this.state.results.map((function(n,o){return console.log("result ",n,Object.keys(n)[0]),e=a.state.searchTerm.split(" ")[o],t=Object.keys(n.filename)[0],console.log("Index: ",n.filename[t]),l.a.createElement("div",{className:S.a.result,key:o},l.a.createElement("div",null,l.a.createElement("strong",null,"Found:     ")," ",e),l.a.createElement("div",null,l.a.createElement("strong",null,"Filename:  "),t),l.a.createElement("div",null,l.a.createElement("strong",null,"Frequency: "),n.count),l.a.createElement("div",null,l.a.createElement("strong",null,"Index:     "),n.filename[t].join(", ")))}))),console.log("Data ",this.props.data),l.a.createElement("div",{className:S.a.Layout},l.a.createElement("div",null,l.a.createElement("input",{className:S.a.Input,placeholder:"Enter Search Term",type:"text",onChange:this.handleChange,value:this.state.searchTerm})),l.a.createElement("div",{className:S.a.Button},l.a.createElement("button",{type:"button",onClick:this.onClickHandler,className:"".concat(S.a.button," btn btn-primary"),disabled:this.state.disabled},"Search")),this.state.display&&l.a.createElement("hr",{className:S.a.Ruler}),this.state.display&&l.a.createElement("div",null,!this.state.results&&n),o)}}]),a}(n.Component),F=Object(_.b)((function(e){return{data:e.document.data}}))(D),T=a(38),B=a.n(T),R=function(e){return l.a.createElement("footer",{className:B.a.Footer})};a(53);var A=function(){return l.a.createElement("div",null,l.a.createElement(L,null),l.a.createElement(s.c,null,l.a.createElement(s.a,{path:"/upload",component:v}),l.a.createElement(s.a,{path:"/",exact:!0,component:F})),l.a.createElement(R,null))},M=a(10),P=a(21),V=a(34),W=a(26),z={data:{}},J=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"UPLOAD_DOCUMENT":return e=Object(W.a)({},a.data),n.data.map((function(a,l){e[a]?((t=Object(W.a)({},e[a])).count+=1,t.index=[].concat(Object(V.a)(t.index),[l]),t.filename[n.filename]?t.filename[n.filename]=[].concat(Object(V.a)(t.filename[n.filename]),[l]):t.filename[n.filename]=[l],e[a]=t):e[a.trim()]={filename:Object(P.a)({},n.filename,[l]),count:1,index:[l]}})),console.log("newdata ",e),Object(W.a)({},a,{data:e});default:return a}},q=Object(M.c)({document:J}),X=Object(M.d)(q,M.a.apply(void 0,[]));a(54),a(55),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(_.a,{store:X},l.a.createElement(c.a,{basename:"/textsearch"},l.a.createElement(A,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports={Layout:"Layout_Layout__3SFDO",result:"Layout_result__3hYit",Ruler:"Layout_Ruler__pWcur",Noresult:"Layout_Noresult__13Vlz",Input:"Layout_Input__SVBPw",Button:"Layout_Button__21lov"}}},[[39,1,2]]]);
//# sourceMappingURL=main.12d70698.chunk.js.map