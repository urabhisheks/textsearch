(this.webpackJsonptelstra=this.webpackJsonptelstra||[]).push([[0],{12:function(e,t,a){e.exports={Upload:"Upload_Upload__3oMjD",file:"Upload_file__3fC6B",button:"Upload_button__1178p",success:"Upload_success__1hV8F",error:"Upload_error__3KY9s"}},25:function(e,t,a){e.exports={Header:"Header_Header__1S-cr",text:"Header_text__2rBL6",Logo:"Header_Logo__3vzSp",DesktopOnly:"Header_DesktopOnly__2Exuu"}},30:function(e,t,a){e.exports={Home:"HomeIcon_Home__38kVr"}},34:function(e,t,a){e.exports={Carticon:"UploadIcon_Carticon__3xXS4","shopping-icon":"UploadIcon_shopping-icon__19MPI",itemcount:"UploadIcon_itemcount__ujvmN"}},39:function(e,t,a){e.exports={Footer:"Footer_Footer__1ItNA"}},40:function(e,t,a){e.exports=a(58)},45:function(e,t,a){},55:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(15),o=a.n(r),c=a(7),s=(a(45),a(9)),i=a(17),u=a(18),d=a(19),m=a(23),p=a(24),f=a(12),h=a.n(f),_=a(11),b=a(29),E=a.n(b),v=new FileReader,y=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={disabled:!0,files:null,uploaded:!1},e.myRef=l.a.createRef(),e.onClickHandler=function(t){console.log("Upload ",e.state.files),e.props.uploadDocument(e.state.fileName,e.state.data),e.setState({disabled:!0,uploaded:!0}),e.myRef.current.value=null},e.onChangeHandler=function(t){e.setState({error:null,uploaded:!1});for(var a=t.target.files,n=[],l=["text/plain"],r=function(e){l.every((function(t){return a[e].type!==t}))&&(n[e]=a[e].name+" is not a supported format\n")},o=0;o<a.length;o++)r(o);if(!n.length&&a.length){e.setState({disabled:!1,files:a});var c=Object(d.a)(e);v.onload=function(){var e=v.result;e=(e=e.split(new RegExp(["|"," ","\\+","\\(","\\)","\\*","/",":","\\?","\n"]))).filter((function(e){return""!=e})),c.setState({fileName:a[0].name,data:e})},v.onerror=function(e){console.log("error"),v.abort()},v.readAsText(a[0])}else e.setState({disabled:!0,error:n})},e}return Object(u.a)(a,[{key:"render",value:function(){return console.log(this.state),l.a.createElement("div",{className:h.a.Upload},l.a.createElement("input",{className:h.a.file,type:"file",onChange:this.onChangeHandler,ref:this.myRef}),l.a.createElement("button",{type:"button",onClick:this.onClickHandler,className:"".concat(h.a.button," btn btn-primary"),disabled:this.state.disabled},"Upload"),this.state.uploaded&&l.a.createElement(E.a,{delay:100},l.a.createElement("div",{className:h.a.success},"File uploaded successfully ")),this.state.error&&l.a.createElement(E.a,{delay:100},l.a.createElement("div",{className:h.a.error}," ",this.state.error,l.a.createElement("br",null),l.a.createElement("strong",null,"Please upload a text file "))))}}]),a}(n.Component),g=Object(_.b)(null,{uploadDocument:function(e,t){return{type:"UPLOAD_DOCUMENT",filename:e,data:t}}})(y),N=a(25),O=a.n(N),j=a(30),x=a.n(j),k=a(20),C=a(21),H=function(e){return l.a.createElement("div",{className:x.a.Home},l.a.createElement(c.b,{to:"/",className:x.a.Home},l.a.createElement(k.a,{icon:C.b})))},U=a(34),w=a.n(U),L=function(e){return l.a.createElement("div",{className:w.a.Carticon},l.a.createElement(c.b,{to:"/upload",className:w.a.Carticon},l.a.createElement(k.a,{icon:C.a})))},S=function(e){return l.a.createElement("header",{className:O.a.Header},l.a.createElement("div",{className:O.a.Logo},l.a.createElement(H,null)),l.a.createElement("div",{className:O.a.text},"Mini Search Engine"),l.a.createElement(L,null))},F=a(8),I=a.n(F),D=!0,R=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={searchTerm:"",display:!1,disabled:!0,results:null},e.handleChange=function(t){t.target.value.length>=3&&(D=!1),e.setState({searchTerm:t.target.value,disabled:D})},e.onClickHandler=function(t){var a=e.props.data,n=Object.keys(a),l=[];e.state.searchTerm.split(" ").map((function(e){l=l.concat(n.filter((function(t){return t.includes(e)})))}));var r=[];(n=l).map((function(e){r.push(a[e])})),console.log("keys ",n),console.log("keys ",r),e.setState({disabled:!0,display:!0,results:Object.keys(r)?r:null})},e}return Object(u.a)(a,[{key:"render",value:function(){var e,t,a=this,n=l.a.createElement("div",{className:I.a.Noresult},"No Results Found!!"),r=null;return console.log("Results ",this.state.results),this.state.results&&(r=this.state.results.map((function(n,r){return console.log("result ",n,Object.keys(n)[0]),e=a.state.searchTerm.split(" ")[r],t=Object.keys(n.filename)[0],console.log("Index: ",n.filename[t]),l.a.createElement("div",{className:I.a.result,key:r},l.a.createElement("div",null,l.a.createElement("strong",null,"Found:     ")," ",e),l.a.createElement("div",null,l.a.createElement("strong",null,"Filename:  "),t),l.a.createElement("div",null,l.a.createElement("strong",null,"Frequency: "),n.count),l.a.createElement("div",null,l.a.createElement("strong",null,"Index:     "),n.filename[t].join(", ")))}))),console.log("Data ",this.props.data,typeof this.props.data),l.a.createElement("div",{className:I.a.Layout},l.a.createElement("div",null,Object.keys(this.props.data).length?"":l.a.createElement("div",{className:I.a.error},"Please ",l.a.createElement("strong",null,l.a.createElement(c.b,{to:"/upload"},"upload")," "),"files first to search"),l.a.createElement("input",{className:I.a.Input,placeholder:"Enter Search Term",type:"text",onChange:this.handleChange,value:this.state.searchTerm})),l.a.createElement("div",{className:I.a.Button},l.a.createElement("button",{type:"button",onClick:this.onClickHandler,className:"".concat(I.a.button," btn btn-primary"),disabled:this.state.disabled},"Search")),this.state.display&&l.a.createElement("hr",{className:I.a.Ruler}),this.state.display&&l.a.createElement("div",null,!this.state.results&&n),r)}}]),a}(n.Component),T=Object(_.b)((function(e){return{data:e.document.data}}))(R),B=a(39),A=a.n(B),P=function(e){return l.a.createElement("footer",{className:A.a.Footer})};a(55);var M=function(){return l.a.createElement("div",null,l.a.createElement(S,null),l.a.createElement(s.c,null,l.a.createElement(s.a,{path:"/upload",component:g}),l.a.createElement(s.a,{path:"/",exact:!0,component:T})),l.a.createElement(P,null))},V=a(10),W=a(22),z=a(35),J=a(26),Y={data:{}},q=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"UPLOAD_DOCUMENT":return e=Object(J.a)({},a.data),n.data.map((function(a,l){e[a]?((t=Object(J.a)({},e[a])).count+=1,t.index=[].concat(Object(z.a)(t.index),[l]),t.filename[n.filename]?t.filename[n.filename]=[].concat(Object(z.a)(t.filename[n.filename]),[l]):t.filename[n.filename]=[l],e[a]=t):e[a.trim()]={filename:Object(W.a)({},n.filename,[l]),count:1,index:[l]}})),console.log("newdata ",e),Object(J.a)({},a,{data:e});default:return a}},K=Object(V.c)({document:q}),X=Object(V.d)(K,V.a.apply(void 0,[]));a(56),a(57),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(_.a,{store:X},l.a.createElement(c.a,{basename:"/textsearch"},l.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports={Layout:"Layout_Layout__3SFDO",result:"Layout_result__3hYit",Ruler:"Layout_Ruler__pWcur",Noresult:"Layout_Noresult__13Vlz",Input:"Layout_Input__SVBPw",Button:"Layout_Button__21lov",error:"Layout_error__2w6i5"}}},[[40,1,2]]]);
//# sourceMappingURL=main.c281abe0.chunk.js.map